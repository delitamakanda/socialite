{% extends "base.html" %}
{% import "partials/_macros.html" as macros %}
{% block title %}Home{% endblock %}
{% block head %}
{{ super() }}
<style>
</style>
{% endblock %}

{% block content %}
{{ super() }}
<div class="section no-pad-bot" id="index-banner">
    <div class="container">
        {% if current_user.can(Permission.WRITE_ARTICLES) %}
        <div class="card">
            <form method="post" name="write_articles">
                {{form.hidden_tag()}}

                <div class="card-content">
                    <label for="body">Whats 's on your mind ?</label>
                    <div class="input-field col s12">
                        {{form.body(class_="materialize-textarea")}}
                    </div>

                    {% for error in form.errors.body %}
                    <p style="color: red;">{{error}}</p>
                    {% endfor %}

                    <button type="submit" class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">add</i></button>
                </div>

            </form>
        </div>

        {% endif %}
    </div>
</div>

<div class="container">
    <div class="section">

        <div class="mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid">
            <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
                <div class="mdl-tabs__tab-bar center-align">
                    <a href="{{ url_for('.show_all') }}" {% if not show_followed %} class="mdl-tabs__tab is-active"{% endif %} class=" mdl-tabs__tab ">All</a>
                    {% if current_user.is_authenticated %}
                    <a href="{{ url_for('.show_followed') }}" {% if show_followed %} class="mdl-tabs__tab is-active"{% endif %} class=" mdl-tabs__tab  ">Followers</a>
                    {% endif %}
                </div>
            </div>
            <main class="mdl-layout__content">
                <section class="mdl-layout__tab-panel is-active">
                    <div class="page-content">
                        {% include 'partials/_posts.html' %}
                        {% if pagination %}
                        <div class="pagination center-align">
                            {{ macros.pagination_widget(pagination, '.index') }}
                        </div>
                        {% endif %}
                    </div>
                </section>
            </main>
        </div>
    </div>
</div>

{% endblock %}


{% block scripts %}
{{ super() }}
{{ pagedown.include_pagedown() }}
{% endblock %}
